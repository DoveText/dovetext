(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5611],{9107:function(e,s,t){Promise.resolve().then(t.bind(t,3083))},3083:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return y}});var a=t(3827),r=t(4090),l=t(6564);let i={async getAllUsers(){let{data:e}=await l.x.get("/api/v1/admin/users");return e},async getUserById(e){let{data:s}=await l.x.get("/api/v1/admin/users/".concat(e));return s},async createUser(e){if(!e.email||!e.password)throw Error("Email and password are required for user creation");let{data:s}=await l.x.post("/api/v1/admin/users",e);return s},async updateUser(e,s){let{data:t}=await l.x.put("/api/v1/admin/users/".concat(e),s);return t},async deleteUser(e){await l.x.delete("/api/v1/admin/users/".concat(e))},async getCurrentUser(){let{data:e}=await l.x.get("/api/v1/admin/users/me");return e},async setAdminStatus(e,s){let{data:t}=await l.x.put("/api/v1/admin/users/".concat(e,"/admin?isAdmin=").concat(s));return t}};var n=t(8792),d=t(3536),o=t(9643),c=t(1310),m=t(8621),u=t(2685),x=t(5548),p=t(9146),h=t(6123),b=t(4424),g=t(3125),f=t(7907);function y(){let e={getAllUsers:i.getAllUsers,getUserById:i.getUserById,createUser:i.createUser,updateUser:i.updateUser,deleteUser:i.deleteUser,getCurrentUser:i.getCurrentUser,setAdminStatus:i.setAdminStatus};(0,f.useRouter)();let[s,t]=(0,r.useState)([]),[l,y]=(0,r.useState)(!0),[N,w]=(0,r.useState)(null),[v,j]=(0,r.useState)(!1),[k,A]=(0,r.useState)(!1),[C,U]=(0,r.useState)(""),[P,S]=(0,r.useState)(null),[F,E]=(0,r.useState)(null),[I,q]=(0,r.useState)({email:"",password:"",displayName:"",phoneNumber:"",isAdmin:!1}),[R,Z]=(0,r.useState)(null),[M,L]=(0,r.useState)(!1);(0,r.useEffect)(()=>{T(),_()},[]);let T=async()=>{try{y(!0),w(null);let s=await e.getAllUsers();t(s)}catch(e){w("Failed to load users. Please try again."),console.error(e)}finally{y(!1)}},_=async()=>{try{let s=await e.getCurrentUser();S(s)}catch(e){console.error("Failed to load current user:",e)}},B=async()=>{try{if(L(!0),w(null),!I.email||!I.password){w("Email and password are required for Firebase user creation."),L(!1);return}let s={email:I.email,password:I.password,displayName:I.displayName||void 0,phoneNumber:I.phoneNumber||void 0,isAdmin:I.isAdmin},a=await e.createUser(s);t(e=>[...e,a]),q({email:"",password:"",displayName:"",phoneNumber:"",isAdmin:!1}),j(!1)}catch(e){var s,a;w((null===(a=e.response)||void 0===a?void 0:null===(s=a.data)||void 0===s?void 0:s.message)||e.message||"Failed to create user. Please try again."),console.error(e)}finally{L(!1)}},D=async()=>{if(F)try{L(!0),w(null);let s={displayName:I.displayName,phoneNumber:I.phoneNumber,isAdmin:I.isAdmin};I.password&&""!==I.password.trim()&&(s.password=I.password);let a=await e.updateUser(F.id,s);t(e=>e.map(e=>e.id===a.id?a:e)),A(!1),E(null)}catch(e){var s,a;w((null===(a=e.response)||void 0===a?void 0:null===(s=a.data)||void 0===s?void 0:s.message)||e.message||"Failed to update user. Please try again."),console.error(e)}finally{L(!1)}},z=async s=>{try{L(!0),w(null),await e.deleteUser(s),t(e=>e.filter(e=>e.id!==s)),Z(null)}catch(e){var a,r;w((null===(r=e.response)||void 0===r?void 0:null===(a=r.data)||void 0===a?void 0:a.message)||"Failed to delete user. Please try again."),console.error(e)}finally{L(!1)}},O=async(s,a)=>{try{L(!0),w(null);let r=await e.setAdminStatus(s,a);t(e=>e.map(e=>e.id===r.id?r:e))}catch(e){var r,l;w((null===(l=e.response)||void 0===l?void 0:null===(r=l.data)||void 0===r?void 0:r.message)||"Failed to update admin status. Please try again."),console.error(e)}finally{L(!1)}},W=e=>{E(e),q({email:e.email,displayName:e.displayName||"",phoneNumber:e.phoneNumber||"",isAdmin:e.isAdmin}),A(!0)},G=s.filter(e=>{let s=C.toLowerCase();return e.email.toLowerCase().includes(s)||e.displayName&&e.displayName.toLowerCase().includes(s)});return(0,a.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,a.jsx)("nav",{className:"flex mb-6","aria-label":"Breadcrumb",children:(0,a.jsxs)("ol",{className:"inline-flex items-center space-x-1 md:space-x-3",children:[(0,a.jsx)("li",{className:"inline-flex items-center",children:(0,a.jsxs)(n.default,{href:"/admin-tools",className:"inline-flex items-center text-sm font-medium text-gray-700 hover:text-blue-600",children:[(0,a.jsx)(d.Z,{className:"w-4 h-4 mr-2"}),"Admin Tools"]})}),(0,a.jsx)("li",{children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(o.Z,{className:"w-4 h-4 text-gray-400"}),(0,a.jsx)("span",{className:"ml-1 text-sm font-medium text-gray-500 md:ml-2",children:"User Management"})]})})]})}),(0,a.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-gray-800",children:"User Management"}),(0,a.jsxs)("button",{onClick:()=>j(!0),className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[(0,a.jsx)(c.Z,{className:"h-5 w-5 mr-2"}),"Add User"]})]}),N&&(0,a.jsx)("div",{className:"bg-red-100 border-l-4 border-red-500 text-red-700 p-4 rounded-md mb-6",children:(0,a.jsxs)("div",{className:"flex",children:[(0,a.jsx)("div",{className:"flex-shrink-0",children:(0,a.jsx)(m.Z,{className:"h-5 w-5 text-red-500"})}),(0,a.jsx)("div",{className:"ml-3",children:(0,a.jsx)("p",{className:"text-sm",children:N})})]})}),(0,a.jsx)("div",{className:"mb-6",children:(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,a.jsx)(u.Z,{className:"h-5 w-5 text-gray-400"})}),(0,a.jsx)("input",{type:"text",value:C,onChange:e=>U(e.target.value),placeholder:"Search users by email or name",className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]})}),(0,a.jsx)("div",{className:"bg-white shadow overflow-hidden rounded-lg",children:(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,a.jsx)("thead",{className:"bg-gray-50",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User"}),(0,a.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Contact"}),(0,a.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Role"}),(0,a.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,a.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Created"}),(0,a.jsx)("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,a.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:l?(0,a.jsx)("tr",{children:(0,a.jsx)("td",{colSpan:6,className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsx)("div",{className:"flex justify-center",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-gray-900"})})})}):0===G.length?(0,a.jsx)("tr",{children:(0,a.jsx)("td",{colSpan:6,className:"px-6 py-4 whitespace-nowrap text-center text-gray-500",children:C?"No users found matching your search.":"No users found."})}):G.map(e=>(0,a.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"flex-shrink-0 h-10 w-10",children:(0,a.jsx)("img",{className:"h-10 w-10 rounded-full",src:e.avatarUrl||"/default-avatar.png",alt:e.displayName||e.email,onError:e=>{e.target.src="/default-avatar.png"}})}),(0,a.jsxs)("div",{className:"ml-4",children:[(0,a.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.displayName||"No Name"}),(0,a.jsx)("div",{className:"text-sm text-gray-500",children:e.email})]})]})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsx)("div",{className:"text-sm text-gray-900",children:e.phoneNumber||"No phone"})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:e.isAdmin?(0,a.jsx)("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-purple-100 text-purple-800",children:"Admin"}):(0,a.jsx)("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-gray-100 text-gray-800",children:"User"})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:e.lastLoginAt?(0,a.jsxs)("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800",children:["Last login: ",(0,g.WU)(new Date(e.lastLoginAt),"MMM d, yyyy")]}):(0,a.jsx)("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-yellow-100 text-yellow-800",children:"Never logged in"})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:(0,g.WU)(new Date(e.createdAt),"MMM d, yyyy")}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:(0,a.jsx)("div",{className:"flex justify-end space-x-2",children:R===e.id?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("button",{onClick:()=>z(e.id),disabled:M||(null==P?void 0:P.id)===e.id,className:"text-red-600 hover:text-red-900 disabled:opacity-50 disabled:cursor-not-allowed",children:"Confirm"}),(0,a.jsx)("button",{onClick:()=>Z(null),className:"text-gray-600 hover:text-gray-900",children:"Cancel"})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("button",{onClick:()=>W(e),className:"text-blue-600 hover:text-blue-900",title:"Edit user",children:(0,a.jsx)(x.Z,{className:"h-5 w-5"})}),(0,a.jsx)("button",{onClick:()=>O(e.id,!e.isAdmin),disabled:M||(null==P?void 0:P.id)===e.id,className:"".concat(e.isAdmin?"text-green-600 hover:text-green-900":"text-gray-600 hover:text-gray-900"," disabled:opacity-50 disabled:cursor-not-allowed"),title:e.isAdmin?"Remove admin rights":"Make admin",children:e.isAdmin?(0,a.jsx)(p.Z,{className:"h-5 w-5"}):(0,a.jsx)(h.Z,{className:"h-5 w-5"})}),(0,a.jsx)("button",{onClick:()=>Z(e.id),disabled:M||(null==P?void 0:P.id)===e.id,className:"text-red-600 hover:text-red-900 disabled:opacity-50 disabled:cursor-not-allowed",title:"Delete user",children:(0,a.jsx)(b.Z,{className:"h-5 w-5"})})]})})})]},e.id))})]})})}),v&&(0,a.jsx)("div",{className:"fixed inset-0 overflow-y-auto z-50",children:(0,a.jsxs)("div",{className:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[(0,a.jsx)("div",{className:"fixed inset-0 transition-opacity","aria-hidden":"true",children:(0,a.jsx)("div",{className:"absolute inset-0 bg-gray-500 opacity-75"})}),(0,a.jsx)("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true",children:"​"}),(0,a.jsxs)("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full",children:[(0,a.jsx)("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:(0,a.jsx)("div",{className:"sm:flex sm:items-start",children:(0,a.jsxs)("div",{className:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left w-full",children:[(0,a.jsx)("h3",{className:"text-lg leading-6 font-medium text-gray-900 mb-4",children:"Create New User"}),(0,a.jsxs)("div",{className:"mt-2 space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:["Email ",(0,a.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,a.jsx)("input",{type:"email",id:"email",value:I.email,onChange:e=>q({...I,email:e.target.value}),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:["Password ",(0,a.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,a.jsx)("input",{type:"password",id:"password",value:I.password,onChange:e=>q({...I,password:e.target.value}),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"displayName",className:"block text-sm font-medium text-gray-700",children:"Display Name"}),(0,a.jsx)("input",{type:"text",id:"displayName",value:I.displayName,onChange:e=>q({...I,displayName:e.target.value}),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"phoneNumber",className:"block text-sm font-medium text-gray-700",children:"Phone Number"}),(0,a.jsx)("input",{type:"tel",id:"phoneNumber",value:I.phoneNumber,onChange:e=>q({...I,phoneNumber:e.target.value}),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]}),(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("input",{type:"checkbox",id:"isAdmin",checked:I.isAdmin,onChange:e=>q({...I,isAdmin:e.target.checked}),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),(0,a.jsx)("label",{htmlFor:"isAdmin",className:"ml-2 block text-sm text-gray-900",children:"Admin User"})]})]})]})})}),(0,a.jsxs)("div",{className:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse",children:[(0,a.jsx)("button",{type:"button",onClick:B,disabled:M,className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-blue-600 text-base font-medium text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 sm:ml-3 sm:w-auto sm:text-sm disabled:opacity-50 disabled:cursor-not-allowed",children:M?"Creating...":"Create"}),(0,a.jsx)("button",{type:"button",onClick:()=>j(!1),disabled:M,className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm",children:"Cancel"})]})]})]})}),k&&F&&(0,a.jsx)("div",{className:"fixed inset-0 overflow-y-auto z-50",children:(0,a.jsxs)("div",{className:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[(0,a.jsx)("div",{className:"fixed inset-0 transition-opacity","aria-hidden":"true",children:(0,a.jsx)("div",{className:"absolute inset-0 bg-gray-500 opacity-75"})}),(0,a.jsx)("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true",children:"​"}),(0,a.jsxs)("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full",children:[(0,a.jsx)("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:(0,a.jsx)("div",{className:"sm:flex sm:items-start",children:(0,a.jsxs)("div",{className:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left w-full",children:[(0,a.jsxs)("h3",{className:"text-lg leading-6 font-medium text-gray-900 mb-4",children:["Edit User: ",F.email]}),(0,a.jsxs)("div",{className:"mt-2 space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"displayName",className:"block text-sm font-medium text-gray-700",children:"Display Name"}),(0,a.jsx)("input",{type:"text",id:"displayName",value:I.displayName,onChange:e=>q({...I,displayName:e.target.value}),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"phoneNumber",className:"block text-sm font-medium text-gray-700",children:"Phone Number"}),(0,a.jsx)("input",{type:"tel",id:"phoneNumber",value:I.phoneNumber,onChange:e=>q({...I,phoneNumber:e.target.value}),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password (leave blank to keep current password)"}),(0,a.jsx)("input",{type:"password",id:"password",value:I.password,onChange:e=>q({...I,password:e.target.value}),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"Enter new password"}),(0,a.jsx)("p",{className:"mt-1 text-xs text-gray-500",children:"This will update the user's password in Firebase. Leave blank to keep the current password."})]}),(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("input",{type:"checkbox",id:"isAdmin",checked:I.isAdmin,onChange:e=>q({...I,isAdmin:e.target.checked}),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded",disabled:(null==P?void 0:P.id)===F.id}),(0,a.jsxs)("label",{htmlFor:"isAdmin",className:"ml-2 block text-sm text-gray-900",children:["Admin User",(null==P?void 0:P.id)===F.id&&(0,a.jsx)("span",{className:"text-xs text-gray-500 ml-2",children:"(Cannot change your own admin status)"})]})]})]})]})})}),(0,a.jsxs)("div",{className:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse",children:[(0,a.jsx)("button",{type:"button",onClick:D,disabled:M,className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-blue-600 text-base font-medium text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 sm:ml-3 sm:w-auto sm:text-sm disabled:opacity-50 disabled:cursor-not-allowed",children:M?"Saving...":"Save Changes"}),(0,a.jsx)("button",{type:"button",onClick:()=>{A(!1),E(null)},disabled:M,className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm",children:"Cancel"})]})]})]})})]})}},6564:function(e,s,t){"use strict";t.d(s,{x:function(){return l}});var a=t(3107),r=t(9359);let l=a.Z.create({baseURL:"https://api.dovetext.com",headers:{"Content-Type":"application/json"}});l.interceptors.request.use(async e=>{console.log("[API Client] Request interceptor called for:",e.url);try{let s=r.auth.currentUser;if(!s)return console.error("[API Client] Not authenticated, rejecting request"),Promise.reject(Error("Not authenticated"));let t=await s.getIdToken();console.log("[API Client] Successfully obtained token for request"),e.headers.Authorization="Bearer ".concat(t),console.log("[API Client] Request headers set:",{contentType:e.headers["Content-Type"],hasAuth:!!e.headers.Authorization,method:e.method,url:e.url})}catch(e){return console.error("[API Client] Error getting Firebase token:",e),Promise.reject(e)}return e},e=>(console.error("[API Client] Request interceptor error:",e),Promise.reject(e))),l.interceptors.response.use(e=>(console.log("[API Client] Response received:",{status:e.status,url:e.config.url,data:e.data}),e),e=>{var s,t,a;if(console.error("[API Client] Response error:",{url:null===(s=e.config)||void 0===s?void 0:s.url,status:null===(t=e.response)||void 0===t?void 0:t.status,statusText:null===(a=e.response)||void 0===a?void 0:a.statusText,message:e.message}),e.response)switch(e.response.status){case 401:window.location.pathname.includes("/signin")||(window.location.href="/signin");break;case 403:console.error("Access forbidden");break;case 404:console.error("Resource not found");break;default:console.error("API error:",e.response.data)}return Promise.reject(e)})}},function(e){e.O(0,[9321,8593,8792,3107,9169,9359,2971,8069,1744],function(){return e(e.s=9107)}),_N_E=e.O()}]);