(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8342],{5104:function(e,t,s){Promise.resolve().then(s.bind(s,6168))},6168:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return j}});var n=s(3827),i=s(4090),a=s(7907),r=s(9359),o=s(8792),l=s(2708),c=s(129),d=s(3536),m=s(4102),u=s(2366),h=s(1640),x=s(1067),f=s(3478),p=s(9146),g=s(8005),v=s(5350);function j(e){let{children:t}=e,{user:s,loading:j}=(0,r.useAuth)(),y=(0,a.useRouter)(),w=(0,a.usePathname)()||"",[N,C]=(0,i.useState)(!1);if((0,i.useEffect)(()=>{if(!j){var e;s?(null===(e=s.settings)||void 0===e?void 0:e.role)!=="admin"?y.push("/dashboard"):C(!0):y.push("/signin?redirect=/admin-tools")}},[s,j,y]),j||!N)return(0,n.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,n.jsxs)("div",{className:"bg-white p-8 shadow-lg rounded-lg text-center",children:[(0,n.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gray-900 mx-auto mb-4"}),(0,n.jsx)("p",{className:"text-gray-600",children:"Checking authorization..."})]})});let E=[{id:"home",name:"Admin Dashboard",description:"Overview of all admin tools",path:"/admin-tools",icon:(0,n.jsx)(d.Z,{className:"h-5 w-5 text-gray-500"})},{id:"settings",name:"System Settings",description:"Configure global system settings and parameters",path:"/admin-tools/settings",icon:(0,n.jsx)(m.Z,{className:"h-5 w-5 text-blue-500"})},{id:"users",name:"User Management",description:"Manage users, roles, and permissions",path:"/admin-tools/users",icon:(0,n.jsx)(u.Z,{className:"h-5 w-5 text-green-500"})},{id:"notifications",name:"Notification Templates",description:"Configure system notification templates",path:"/admin-tools/notifications",icon:(0,n.jsx)(h.Z,{className:"h-5 w-5 text-yellow-500"})},{id:"scheduler",name:"Task Scheduler",description:"Configure and monitor scheduled system tasks",path:"/admin-tools/scheduler",icon:(0,n.jsx)(x.Z,{className:"h-5 w-5 text-purple-500"})},{id:"analytics",name:"System Analytics",description:"View system performance and usage statistics",path:"/admin-tools/analytics",icon:(0,n.jsx)(f.Z,{className:"h-5 w-5 text-red-500"})},{id:"security",name:"Security Settings",description:"Configure security policies and audit logs",path:"/admin-tools/security",icon:(0,n.jsx)(p.Z,{className:"h-5 w-5 text-indigo-500"})},{id:"prompts",name:"LLM Prompts Manager",description:"Create, edit, and delete LLM prompts",path:"/admin-tools/prompts"},{id:"notification-test",name:"Notification Test",description:"Test notification delivery methods",path:"/admin-tools/test/notification"},{id:"test-tools",name:"All Test Tools",description:"Access all testing tools",path:"/admin-tools/test"}],S=E.find(e=>w===e.path||w.startsWith("".concat(e.path,"/")))||E[0];return(0,n.jsxs)("div",{className:"bg-gray-100 min-h-screen",children:[(0,n.jsx)(v.default,{}),(0,n.jsxs)("header",{className:"bg-white shadow-sm",children:[(0,n.jsxs)("div",{className:"container mx-auto px-4 py-3 flex justify-between items-center",children:[(0,n.jsxs)("div",{className:"flex items-center",children:[(0,n.jsx)(o.default,{href:"/admin-tools",className:"text-xl font-bold text-gray-800 mr-4 hover:text-blue-600 transition-colors",onClick:()=>document.dispatchEvent(new Event("routeChangeStart")),children:"Admin Tools"}),(0,n.jsxs)(l.v,{as:"div",className:"relative inline-block text-left",children:[(0,n.jsx)("div",{children:(0,n.jsxs)(l.v.Button,{className:"inline-flex items-center justify-center w-full rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[S.name,(0,n.jsx)(g.Z,{className:"-mr-1 ml-2 h-5 w-5","aria-hidden":"true"})]})}),(0,n.jsx)(c.u,{as:i.Fragment,enter:"transition ease-out duration-100",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95",children:(0,n.jsx)(l.v.Items,{className:"origin-top-right absolute left-0 mt-2 w-72 rounded-md shadow-lg bg-white ring-1 ring-black ring-opacity-5 focus:outline-none z-10",children:(0,n.jsx)("div",{className:"py-1",children:E.map(e=>(0,n.jsx)(l.v.Item,{children:t=>{let{active:s}=t;return(0,n.jsx)(o.default,{href:e.path,className:function(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return t.filter(Boolean).join(" ")}(s?"bg-gray-100 text-gray-900":"text-gray-700","block px-4 py-2 text-sm"),onClick:()=>document.dispatchEvent(new Event("routeChangeStart")),children:(0,n.jsxs)("div",{className:"flex items-center",children:[e.icon&&(0,n.jsx)("span",{className:"mr-2",children:e.icon}),(0,n.jsxs)("div",{children:[(0,n.jsx)("p",{className:"font-medium",children:e.name}),(0,n.jsx)("p",{className:"text-xs text-gray-500",children:e.description})]})]})})}},e.id))})})})]})]}),(0,n.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,n.jsxs)("span",{className:"text-sm text-gray-600",children:["Logged in as ",null==s?void 0:s.email]}),(0,n.jsx)("a",{href:"/",className:"text-blue-600 hover:text-blue-800 text-sm",onClick:e=>{e.preventDefault(),document.dispatchEvent(new Event("routeChangeStart")),y.push("/")},children:"Back to Dashboard"})]})]}),(0,n.jsx)("div",{className:"container mx-auto px-4 py-2 border-t border-gray-200",children:(0,n.jsx)("nav",{children:(0,n.jsxs)("ul",{className:"flex space-x-6",children:[(0,n.jsx)("li",{children:(0,n.jsx)(b,{href:"/admin-tools",exactPath:!0,children:"Dashboard"})}),(0,n.jsx)("li",{children:(0,n.jsx)(b,{href:"/admin-tools/settings",children:"Settings"})}),(0,n.jsx)("li",{children:(0,n.jsx)(b,{href:"/admin-tools/users",children:"Users"})}),(0,n.jsx)("li",{children:(0,n.jsx)(b,{href:"/admin-tools/prompts",children:"Prompts"})}),(0,n.jsx)("li",{children:(0,n.jsx)(b,{href:"/admin-tools/test",children:"Test Tools"})})]})})})]}),(0,n.jsx)("main",{children:t})]})}function b(e){let{href:t,children:s,exactPath:i=!1}=e,r=(0,a.usePathname)()||"",l=i?r===t:(r===t||r.startsWith("".concat(t,"/")))&&"/admin-tools"!==t;return(0,n.jsx)(o.default,{href:t,className:"text-sm font-medium py-2 border-b-2 ".concat(l?"text-blue-600 border-blue-600":"text-gray-600 border-transparent hover:text-blue-600 hover:border-blue-600"),onClick:()=>document.dispatchEvent(new Event("routeChangeStart")),children:s})}},5350:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return r}});var n=s(3827),i=s(4090),a=s(7907);function r(){let[e,t]=(0,i.useState)(!1),s=(0,a.usePathname)(),r=(0,a.useSearchParams)();return((0,i.useEffect)(()=>{let n;let i=new URL(s||"/",window.location.origin);null==r||r.forEach((e,t)=>{i.searchParams.append(t,e)});let a=e=>{e!==i.toString()&&t(!0)},o=()=>{t(!1)};window.addEventListener("beforeunload",()=>a("")),document.addEventListener("routeChangeStart",()=>{a("")}),document.addEventListener("routeChangeComplete",()=>{o()});let l=new MutationObserver(e=>{window.location.href!==i.toString()&&o()});return l.observe(document,{subtree:!0,childList:!0}),e&&(clearTimeout(n),n=setTimeout(()=>{t(!1)},3e3)),()=>{window.removeEventListener("beforeunload",()=>a("")),document.removeEventListener("routeChangeStart",()=>a("")),document.removeEventListener("routeChangeComplete",o),l.disconnect(),clearTimeout(n)}},[s,r,e]),e)?(0,n.jsx)("div",{className:"fixed top-0 left-0 w-full z-50",children:(0,n.jsx)("div",{className:"h-1 bg-blue-600 animate-pulse",children:(0,n.jsx)("div",{className:"h-full bg-blue-500 animate-progress"})})}):null}}},function(e){e.O(0,[9321,8593,8792,542,9019,9359,2971,8069,1744],function(){return e(e.s=5104)}),_N_E=e.O()}]);