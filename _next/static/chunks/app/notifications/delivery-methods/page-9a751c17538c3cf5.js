(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2097],{5515:function(e,t,s){Promise.resolve().then(s.bind(s,7555))},1581:function(e,t,s){"use strict";s.d(t,{x:function(){return n}});var a=s(6564);let n={async getAll(){let{data:e}=await a.x.get("/api/v1/methods");return e},async getById(e){let{data:t}=await a.x.get("/api/v1/methods/".concat(e));return t},async create(e){let{data:t}=await a.x.post("/api/v1/methods",e);return t},async update(e,t){let{data:s}=await a.x.put("/api/v1/methods/".concat(e),t);return s},async delete(e){await a.x.delete("/api/v1/methods/".concat(e))},async verify(e){await a.x.post("/api/v1/methods/".concat(e,"/verify"))},async setDefault(e){await a.x.post("/api/v1/methods/".concat(e,"/default"))},async getTypes(){let{data:e}=await a.x.get("/api/v1/methods/types");return e}}},7555:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return X}});var a=s(3827),n=s(4090),l=s(1640),i=s(2707),r=s(3251),o=s(32),d=s(4772),c=s(3835),m=s(6781),u=s(5548),x=s(4424),h=s(1310),g=s(583),p=s(9102),b=s.n(p),y=s(129),f=s(6170),v=s(8621),j=s(8637),N=s(1062),w=s(7205),k=s(961);function C(e){let{options:t,value:s,onChange:l,onBlur:i,placeholder:r="Type or select...",className:o=""}=e,[d,c]=(0,n.useState)(""),[m,u]=(0,n.useState)(!1),[x,h]=(0,n.useState)(!1),g=(0,n.useRef)(null),p=""===d?t:t.filter(e=>e.label.toLowerCase().includes(d.toLowerCase())),b=t.find(e=>e.value===s);return(0,a.jsx)("div",{className:o,children:(0,a.jsx)(w.h,{value:s,onChange:e=>{l(e);let s=t.find(t=>t.value===e);c(s?s.label:e),h(!1),u(!1)},children:(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(w.h.Input,{ref:g,className:"w-full rounded-md border-0 bg-white py-1.5 pl-3 pr-10 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6",onChange:e=>{c(e.target.value),u(!0)},displayValue:()=>x?d:(null==b?void 0:b.label)||s,onFocus:()=>{h(!0),c((null==b?void 0:b.label)||s),u(!0)},onBlur:()=>{setTimeout(()=>{l(d||s),u(!1),h(!1),null==i||i()},200)},onKeyDown:e=>{if("Enter"===e.key){e.preventDefault();let a=d||s;if(a){var t;l(a),u(!1),h(!1),null===(t=g.current)||void 0===t||t.blur()}}},placeholder:r}),(0,a.jsx)(w.h.Button,{className:"absolute inset-y-0 right-0 flex items-center rounded-r-md px-2 focus:outline-none",onClick:()=>{if(u(!m),!m){var e;h(!0),c(s),null===(e=g.current)||void 0===e||e.focus()}},children:(0,a.jsx)(k.Z,{className:"h-5 w-5 text-gray-400","aria-hidden":"true"})}),(0,a.jsx)(y.u,{as:n.Fragment,show:m,leave:"transition ease-in duration-100",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,a.jsx)(w.h.Options,{static:!0,className:"absolute z-10 mt-1 max-h-60 w-full overflow-auto rounded-md bg-white py-1 text-base shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none sm:text-sm",children:0===p.length&&""!==d?(0,a.jsxs)("div",{className:"relative cursor-default select-none px-4 py-2 text-gray-700",children:['Press Enter to use "',d,'"']}):p.map(e=>(0,a.jsx)(w.h.Option,{value:e.value,className:e=>{let{active:t}=e;return"relative cursor-default select-none py-2 pl-3 pr-9 ".concat(t?"bg-indigo-600 text-white":"text-gray-900")},children:t=>{let{active:s,selected:n}=t;return(0,a.jsx)("span",{className:"block truncate ".concat(n?"font-semibold":""),children:e.label})}},e.value))})})]})})})}var E=s(4895);let T=[{value:"SLACK",label:"Slack"},{value:"TELEGRAM",label:"Telegram"},{value:"CUSTOM_WEBHOOK",label:"Custom Webhook"}],O=[{value:"Authorization",label:"Authorization"},{value:"Content-Type",label:"Content-Type"},{value:"Accept",label:"Accept"},{value:"User-Agent",label:"User-Agent"},{value:"X-API-Key",label:"X-API-Key"},{value:"X-Request-ID",label:"X-Request-ID"}];function I(e){var t,s,l,i;let{config:r,onChange:o,isEditing:d,validationErrors:c={}}=e,[m,u]=(0,n.useState)(Object.keys((null===(t=r.webhook)||void 0===t?void 0:t.headers)||{}));return r.webhook,(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)(E.Wi,{label:"Plugin Type",error:c.type,children:(0,a.jsx)(N.Z,{value:r.type,onChange:e=>o({...r,type:e,slackWebhookUrl:"",slackChannel:"",telegramBotToken:"",telegramChatId:"",webhook:{url:"",method:"POST",headers:{},payload:""}}),options:T,disabled:d,className:"mt-2"})}),"SLACK"===r.type&&(0,a.jsxs)("div",{className:"space-y-4 rounded-md bg-gray-50 px-4 py-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium leading-6 text-gray-900",children:"Webhook URL"}),(0,a.jsx)("input",{type:"url",required:!0,value:r.slackWebhookUrl,onChange:e=>o({...r,slackWebhookUrl:e.target.value}),className:"block w-full rounded-md border-0 px-3 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6",placeholder:"https://hooks.slack.com/services/..."}),c.webhook&&(0,a.jsx)("p",{className:"mt-2 text-sm text-red-500",children:c.webhook})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium leading-6 text-gray-900",children:"Channel (Optional)"}),(0,a.jsx)("input",{type:"text",value:r.slackChannel||"",onChange:e=>o({...r,slackChannel:e.target.value}),className:"block w-full rounded-md border-0 px-3 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6",placeholder:"#general"})]})]}),"TELEGRAM"===r.type&&(0,a.jsxs)("div",{className:"space-y-4 rounded-md bg-gray-50 px-4 py-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium leading-6 text-gray-900",children:"Bot Token"}),(0,a.jsx)("input",{type:"text",required:!0,value:r.telegramBotToken,onChange:e=>o({...r,telegramBotToken:e.target.value}),className:"block w-full rounded-md border-0 px-3 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6",placeholder:"123456:ABC-DEF1234ghIkl-zyx57W2v1u123ew11"}),(0,a.jsx)("p",{className:"mt-2 text-sm text-gray-500",children:"Create a bot and get the token from @BotFather"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium leading-6 text-gray-900",children:"Chat ID"}),(0,a.jsx)("input",{type:"text",required:!0,value:r.telegramChatId,onChange:e=>o({...r,telegramChatId:e.target.value}),className:"block w-full rounded-md border-0 px-3 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6",placeholder:"-100123456789"}),(0,a.jsx)("p",{className:"mt-2 text-sm text-gray-500",children:"Add the bot to a group/channel and get the chat ID"})]})]}),"CUSTOM_WEBHOOK"===r.type&&(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)(E.Wi,{label:"Webhook URL",error:c.webhookUrl,children:(0,a.jsx)("input",{type:"text",value:(null===(s=r.webhook)||void 0===s?void 0:s.url)||"",onChange:e=>{var t,s,a;return o({...r,webhook:{url:e.target.value,method:(null===(t=r.webhook)||void 0===t?void 0:t.method)||"POST",headers:(null===(s=r.webhook)||void 0===s?void 0:s.headers)||{},payload:(null===(a=r.webhook)||void 0===a?void 0:a.payload)||""}})},className:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6",placeholder:"https://example.com/webhook"})}),(0,a.jsx)(E.Wi,{label:"HTTP Method",error:c.webhookMethod,children:(0,a.jsx)(N.Z,{value:(null===(l=r.webhook)||void 0===l?void 0:l.method)||"POST",onChange:e=>{var t,s,a;return o({...r,webhook:{url:(null===(t=r.webhook)||void 0===t?void 0:t.url)||"",method:e,headers:(null===(s=r.webhook)||void 0===s?void 0:s.headers)||{},payload:(null===(a=r.webhook)||void 0===a?void 0:a.payload)||""}})},options:[{value:"GET",label:"GET"},{value:"POST",label:"POST"},{value:"PUT",label:"PUT"},{value:"DELETE",label:"DELETE"}]})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"flex items-center justify-between",children:(0,a.jsx)("label",{className:"block text-sm font-medium leading-6 text-gray-900",children:"Headers"})}),(0,a.jsxs)("div",{className:"mt-2 space-y-2",children:[m.map(e=>{var t,s;let n=(null===(s=r.webhook)||void 0===s?void 0:null===(t=s.headers)||void 0===t?void 0:t[e])||"";return(0,a.jsxs)("div",{className:"flex gap-x-2 items-center",children:[(0,a.jsx)("div",{className:"w-1/3",children:(0,a.jsx)(C,{options:O,value:e,onChange:t=>{var s;if(t===e)return;let a={...null===(s=r.webhook)||void 0===s?void 0:s.headers},n=a[e];delete a[e],a[t]=n,u(s=>{let a=s.indexOf(e),n=[...s];return n[a]=t,n}),o({...r,webhook:{...r.webhook,headers:a}})},placeholder:"Header name"})}),(0,a.jsx)("div",{className:"flex-1",children:(0,a.jsx)("input",{type:"text",value:n,onChange:t=>{var s;return o({...r,webhook:{...r.webhook,headers:{...null===(s=r.webhook)||void 0===s?void 0:s.headers,[e]:t.target.value}}})},className:"block w-full rounded-md border-0 px-3 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6",placeholder:"Header value"})}),(0,a.jsx)("button",{type:"button",onClick:()=>{var t;let s={...null===(t=r.webhook)||void 0===t?void 0:t.headers};delete s[e],u(t=>t.filter(t=>t!==e)),o({...r,webhook:{...r.webhook,headers:s}})},className:"inline-flex items-center rounded-md p-1.5 text-gray-400 hover:bg-gray-100 hover:text-gray-500",children:(0,a.jsx)(x.Z,{className:"h-5 w-5","aria-hidden":"true"})})]},e)}),0===m.length&&(0,a.jsx)("p",{className:"text-sm text-gray-500 text-center py-4",children:'No headers added yet. Click "Add Header" to add one.'}),(0,a.jsx)("div",{className:"mt-4",children:(0,a.jsx)("button",{type:"button",onClick:()=>{var e;u(e=>[...e,""]),o({...r,webhook:{...r.webhook||{url:"",method:"POST",headers:{},payload:""},headers:{...(null===(e=r.webhook)||void 0===e?void 0:e.headers)||{},"":""}}})},className:"w-full rounded-md bg-white px-2.5 py-1.5 text-sm font-semibold text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50",children:"Add Header"})})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium leading-6 text-gray-900",children:"Payload Template (JSON)"}),(0,a.jsx)("textarea",{value:null===(i=r.webhook)||void 0===i?void 0:i.payload,onChange:e=>o({...r,webhook:{...r.webhook,payload:e.target.value}}),placeholder:"{}",rows:4,className:"block w-full rounded-md border-0 px-3 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6 font-mono"})]})]})]})}var P=s(167),A=s.n(P);function M(e){var t,s;let{config:n,onChange:l,validationErrors:i={}}=e;return(0,a.jsx)("div",{className:"space-y-4",children:(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium leading-6 text-gray-900 mb-2",children:"Phone Number"}),(0,a.jsxs)("div",{className:"flex space-x-4",children:[(0,a.jsxs)("div",{className:"flex-grow",children:[(0,a.jsx)("div",{children:(0,a.jsx)(A(),{country:"cn",value:n.phoneNumber,onChange:(e,t)=>{l({...n,phoneNumber:e,countryCode:t.dialCode})},containerClass:"phone-input-container",specialLabel:"",masks:{cn:"... .... ....",us:"... ... ....",gb:".... ......"}})}),i.phone?(0,a.jsx)("p",{className:"mt-2 text-sm text-red-500",children:i.phone}):(0,a.jsx)("p",{className:"mt-2 text-sm ".concat(n.enableText||n.enableVoice?"text-gray-500":"text-red-500"),children:(t=n.enableText,s=n.enableVoice,t&&s?"This number will receive both text messages and voice calls.":t?"This number will only receive text messages.":s?"This number will only receive voice calls.":"Please enable at least one notification method.")})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-4 h-[38px]",children:[(0,a.jsxs)("label",{className:"inline-flex items-center whitespace-nowrap",children:[(0,a.jsx)("input",{type:"checkbox",checked:n.enableText,onChange:e=>l({...n,enableText:e.target.checked}),className:"h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-2 focus:ring-inset focus:ring-indigo-500"}),(0,a.jsx)("span",{className:"ml-2 text-sm text-gray-700",children:"Text"})]}),(0,a.jsxs)("label",{className:"inline-flex items-center whitespace-nowrap",children:[(0,a.jsx)("input",{type:"checkbox",checked:n.enableVoice,onChange:e=>l({...n,enableVoice:e.target.checked}),className:"h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-2 focus:ring-inset focus:ring-indigo-500"}),(0,a.jsx)("span",{className:"ml-2 text-sm text-gray-700",children:"Voice"})]})]})]})]})})}s(561);let S={DOVEAPP:["DOVEAPP"],EMAIL:["EMAIL"],PHONE:["TEXT","VOICE"],PLUGIN:["WEBHOOK","PLUGIN"]};function L(e){let{isOpen:t,onClose:s,onSubmit:l,onDelete:i,editingMethod:r,group:o="EMAIL"}=e,[d,c]=(0,n.useState)(""),[m,u]=(0,n.useState)(""),[x,h]=(0,n.useState)(()=>r?r.type:S[o][0]),[g,p]=(0,n.useState)(""),[N,w]=(0,n.useState)(""),[k,C]=(0,n.useState)({phoneNumber:"",countryCode:"86",enableText:!0,enableVoice:!0}),[E,T]=(0,n.useState)({type:"SLACK",slackWebhookUrl:"",slackChannel:"",telegramBotToken:"",telegramChatId:"",webhook:{url:"",method:"POST",headers:{},payload:""}}),[O,P]=(0,n.useState)({}),A=(e,t)=>{if(!e.trim())return"Phone number is required";if(e.includes("_"))return"Please enter a complete phone number";try{let t=(0,j.h)("+".concat(e));if(!t)return"Invalid phone number format";if(!t.isValid())return"Invalid phone number for ".concat(t.country||"this country");let s=t.getType();if(s&&"MOBILE"!==s&&"FIXED_LINE_OR_MOBILE"!==s)return"Please enter a mobile phone number";return null}catch(e){return console.error("Phone validation error:",e),"Invalid phone number format"}},L=()=>{let e={};switch(d.trim()||(e.name="Name is required"),o){case"EMAIL":g.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(g)||(e.email="Please enter a valid email address"):e.email="Email address is required";break;case"PHONE":let t=A(k.phoneNumber,k.countryCode);t&&(e.phone=t);break;case"PLUGIN":var s,a,n,l,i;"SLACK"===E.type?(null===(s=E.slackWebhookUrl)||void 0===s?void 0:s.trim())||(e.webhook="Slack webhook URL is required"):"TELEGRAM"===E.type?((null===(a=E.telegramBotToken)||void 0===a?void 0:a.trim())||(e.botToken="Telegram bot token is required"),(null===(n=E.telegramChatId)||void 0===n?void 0:n.trim())||(e.chatId="Telegram chat ID is required")):"CUSTOM_WEBHOOK"!==E.type||(null===(i=E.webhook)||void 0===i?void 0:null===(l=i.url)||void 0===l?void 0:l.trim())||(e.webhook="Webhook URL is required")}P(e);let r=Object.keys(e).length>0,c="PHONE"!==o||k.enableText||k.enableVoice;return!r&&c},D=async e=>{if(e.preventDefault(),!L())return;let t={},a=[],n=[];if("DOVEAPP"===o)Object.assign(t,{doveNumber:N}),a.push({id:null==r?void 0:r.id,name:d,description:m,type:x,config:t});else if("EMAIL"===o)Object.assign(t,{email:g}),a.push({id:null==r?void 0:r.id,name:d,description:m,type:x,config:t});else if("PHONE"===o){let e={phone:{phoneNumber:k.phoneNumber,countryCode:k.countryCode,enableText:k.enableText,enableVoice:k.enableVoice}};if(r){let t="string"==typeof r.config?JSON.parse(r.config):r.config;t.textMethodId&&!k.enableText?n.push(t.textMethodId):k.enableText&&(t.textMethodId?a.push({id:t.textMethodId,name:d,description:m,type:"TEXT",config:{...e}}):a.push({name:d,description:m,type:"TEXT",config:{...e}})),t.voiceMethodId&&!k.enableVoice?n.push(t.voiceMethodId):k.enableVoice&&(t.voiceMethodId?a.push({id:t.voiceMethodId,name:d,description:m,type:"VOICE",config:{...e}}):a.push({name:d,description:m,type:"VOICE",config:{...e}}))}else k.enableText&&a.push({name:d,description:m,type:"TEXT",config:{...e}}),k.enableVoice&&a.push({name:d,description:m,type:"VOICE",config:{...e}})}else"PLUGIN"===o&&(Object.assign(t,{type:E.type}),"SLACK"===E.type?Object.assign(t,{slackWebhookUrl:E.slackWebhookUrl,slackChannel:E.slackChannel}):"TELEGRAM"===E.type?Object.assign(t,{telegramBotToken:E.telegramBotToken,telegramChatId:E.telegramChatId}):"CUSTOM_WEBHOOK"===E.type&&Object.assign(t,{webhook:E.webhook}),a.push({id:null==r?void 0:r.id,name:d,description:m,type:"PLUGIN",config:t}));try{n.length>0&&i&&await Promise.all(n.map(e=>i(e))),await Promise.all(a.map(e=>l(e))),s()}catch(e){console.error("Error creating/updating delivery methods:",e),P({submit:"Failed to save delivery method"})}},V=()=>{c(""),u(""),p(""),w(""),C({phoneNumber:"",countryCode:"",enableText:!0,enableVoice:!0}),T({type:"SLACK",slackWebhookUrl:"",slackChannel:"",telegramBotToken:"",telegramChatId:"",webhook:{url:"",method:"POST",headers:{},payload:""}}),P({})};return(0,n.useEffect)(()=>{if(!t){V();return}if(r){let e="string"==typeof r.config?JSON.parse(r.config):r.config;c(r.name),u(r.description||""),h(r.type),"DOVEAPP"===o?w(e.doveNumber||""):"EMAIL"===o?p(e.email||""):"PHONE"===o?C({phoneNumber:e.phoneNumber||"",countryCode:e.countryCode||"",enableText:!!e.textMethodId,enableVoice:!!e.voiceMethodId}):"PLUGIN"===o&&T(e)}else V()},[t,r,o]),(0,a.jsx)(y.u.Root,{show:t,as:n.Fragment,children:(0,a.jsxs)(f.V,{as:"div",className:"relative z-10",onClose:()=>{},children:[(0,a.jsx)(b(),{id:"53d2b12d8f41704e",children:".phone-input-container{width:100%}.phone-input-container .form-control{width:100%!important;height:38px!important;-webkit-border-radius:6px!important;-moz-border-radius:6px!important;border-radius:6px!important;padding-left:48px!important}.phone-input-container .flag-dropdown{border:none!important;background:transparent!important}.phone-input-container .selected-flag{background:transparent!important;-webkit-border-radius:6px 0 0 6px!important;-moz-border-radius:6px 0 0 6px!important;border-radius:6px 0 0 6px!important}.phone-input-container .form-control:focus{border-color:#6366f1!important;-webkit-box-shadow:0 0 0 1px#6366f1!important;-moz-box-shadow:0 0 0 1px#6366f1!important;box-shadow:0 0 0 1px#6366f1!important}"}),(0,a.jsx)("div",{className:"jsx-53d2b12d8f41704e fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"}),(0,a.jsx)("div",{className:"jsx-53d2b12d8f41704e fixed inset-0 z-10 overflow-y-auto",children:(0,a.jsx)("div",{className:"jsx-53d2b12d8f41704e flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0",children:(0,a.jsx)(y.u.Child,{as:n.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",enterTo:"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 translate-y-0 sm:scale-100",leaveTo:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",children:(0,a.jsxs)(f.V.Panel,{className:"relative transform overflow-hidden bg-white px-4 pb-4 pt-5 text-left transition-all sm:my-8 sm:w-full sm:max-w-2xl sm:p-6",children:[(0,a.jsx)("div",{className:"jsx-53d2b12d8f41704e absolute right-0 top-0 hidden pr-4 pt-4 sm:block",children:(0,a.jsxs)("button",{type:"button",onClick:s,className:"jsx-53d2b12d8f41704e rounded-md bg-white text-gray-400 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2",children:[(0,a.jsx)("span",{className:"jsx-53d2b12d8f41704e sr-only",children:"Close"}),(0,a.jsx)(v.Z,{className:"h-6 w-6","aria-hidden":"true"})]})}),(0,a.jsx)("form",{onSubmit:D,className:"jsx-53d2b12d8f41704e",children:(0,a.jsx)("div",{className:"jsx-53d2b12d8f41704e",children:(0,a.jsxs)("div",{className:"jsx-53d2b12d8f41704e mt-3 sm:mt-5",children:[(0,a.jsx)(f.V.Title,{as:"h3",className:"text-base font-semibold leading-6 text-gray-900",children:r?"Edit Delivery Method":"Add Delivery Method"}),(0,a.jsx)("div",{className:"jsx-53d2b12d8f41704e mt-4 space-y-6",children:(0,a.jsxs)("div",{className:"jsx-53d2b12d8f41704e space-y-6",children:[(0,a.jsxs)("div",{className:"jsx-53d2b12d8f41704e",children:[(0,a.jsx)("label",{htmlFor:"name",className:"jsx-53d2b12d8f41704e block text-sm font-medium leading-6 text-gray-900",children:"Name"}),(0,a.jsxs)("div",{className:"jsx-53d2b12d8f41704e mt-2",children:[(0,a.jsx)("input",{type:"text",name:"name",id:"name",value:d,onChange:e=>{c(e.target.value),O.name&&P(e=>({...e,name:""}))},placeholder:"Enter a name for this delivery method",className:"jsx-53d2b12d8f41704e "+"block w-full rounded-md border-0 px-3 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ".concat(O.name?"ring-red-500":"ring-gray-300"," placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6")}),O.name&&(0,a.jsx)("p",{className:"jsx-53d2b12d8f41704e mt-2 text-sm text-red-500",children:O.name})]})]}),"DOVEAPP"===o&&(0,a.jsxs)("div",{className:"jsx-53d2b12d8f41704e",children:[(0,a.jsx)("label",{className:"jsx-53d2b12d8f41704e block text-sm font-medium leading-6 text-gray-900",children:"Dove Number"}),(0,a.jsx)("input",{type:"text",value:N,readOnly:!0,disabled:!0,className:"jsx-53d2b12d8f41704e block w-full rounded-md border-0 px-3 py-1.5 text-gray-500 bg-gray-50 shadow-sm ring-1 ring-inset ring-gray-300 sm:text-sm sm:leading-6"})]}),"EMAIL"===o&&(0,a.jsxs)("div",{className:"jsx-53d2b12d8f41704e",children:[(0,a.jsx)("label",{className:"jsx-53d2b12d8f41704e block text-sm font-medium leading-6 text-gray-900",children:"Email Address"}),(0,a.jsx)("input",{type:"email",required:!0,value:g,onChange:e=>{p(e.target.value),O.email&&P(e=>({...e,email:""}))},className:"jsx-53d2b12d8f41704e block w-full rounded-md border-0 px-3 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"}),O.email&&(0,a.jsx)("p",{className:"jsx-53d2b12d8f41704e mt-2 text-sm text-red-500",children:O.email})]}),"PHONE"===o&&(0,a.jsx)(M,{config:k,onChange:C,validationErrors:O}),"PLUGIN"===o&&(0,a.jsx)(I,{config:E,onChange:T,isEditing:!!r,validationErrors:O}),(0,a.jsxs)("div",{className:"jsx-53d2b12d8f41704e",children:[(0,a.jsx)("label",{htmlFor:"description",className:"jsx-53d2b12d8f41704e block text-sm font-medium leading-6 text-gray-900",children:"Description"}),(0,a.jsx)("div",{className:"jsx-53d2b12d8f41704e mt-2",children:(0,a.jsx)("textarea",{id:"description",name:"description",rows:3,value:m,onChange:e=>u(e.target.value),placeholder:"Optional description...",className:"jsx-53d2b12d8f41704e block w-full rounded-md border-0 px-3 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"})})]})]})}),(0,a.jsxs)("div",{className:"jsx-53d2b12d8f41704e mt-8 flex flex-row-reverse space-x-3 space-x-reverse",children:[(0,a.jsx)("button",{type:"submit",className:"jsx-53d2b12d8f41704e inline-flex w-auto justify-center rounded-md bg-indigo-600 px-4 py-2 text-sm font-semibold text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600",children:"Save"}),(0,a.jsx)("button",{type:"button",onClick:s,className:"jsx-53d2b12d8f41704e inline-flex w-auto justify-center rounded-md bg-white px-4 py-2 text-sm font-semibold text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50",children:"Cancel"})]})]})})})]})})})})]})})}var D=s(1581),V=s(8693),U=s(7490);let F={DOVEAPP:l.Z,EMAIL:i.Z,TEXT:r.Z,VOICE:r.Z,WEBHOOK:o.Z,PLUGIN:d.Z},Z=[{name:"DoveApp",types:["DOVEAPP"],description:"Using DoveApp to receive and manage notifications",canCreate:!1},{name:"Email",types:["EMAIL"],description:"Receive notifications via email",canCreate:!0},{name:"Phone & Text",types:["TEXT","VOICE"],description:"Get notified through text or voice calls",canCreate:!0},{name:"Integrations",types:["WEBHOOK","PLUGIN"],description:"Connect with external services using webhooks or plugins",canCreate:!0}],W=e=>{try{if("object"==typeof e.config&&null!==e.config)return e.config;if("string"==typeof e.config)return JSON.parse(e.config);return{}}catch(t){return console.error("Failed to parse method config for method:",e.name,t),{}}},B=e=>{let t=new Map,s=[];return e.forEach(e=>{if("TEXT"!==e.type&&"VOICE"!==e.type)return;let a=W(e),n=a.phoneNumber;if(!n)return;t.has(n)||(t.set(n,{phoneNumber:n,method:{...e,config:{...a},isDefault:!1}}),s.push(n));let l=t.get(n);"TEXT"===e.type?l.method.config.textMethodId=e.id:l.method.config.voiceMethodId=e.id}),s.map(e=>t.get(e))},H=e=>{let{method:t,icon:s,name:n,description:l,isDefault:i,details:r,badges:o,isHovered:d,isEditing:h,onMouseEnter:p,onMouseLeave:b,handleVerify:y,handleSetDefault:f,handleEdit:v,handleDelete:j,getMethodStatusColor:N,handleAddClick:w,group:k}=e;return(0,a.jsxs)("li",{className:"relative flex justify-between gap-x-6 py-5 px-4 transition-colors duration-200\n      ".concat(d||h?"bg-gray-50 rounded-lg":"hover:bg-gray-50 hover:rounded-lg","\n      ").concat(h?"ring-2 ring-indigo-500 rounded-lg":"","\n    "),onMouseEnter:p,onMouseLeave:b,children:[(0,a.jsxs)("div",{className:"flex min-w-0 gap-x-4",children:[(0,a.jsx)("div",{className:"h-12 w-12 flex items-center justify-center rounded-lg bg-gray-50",children:(0,a.jsx)(s,{className:"h-6 w-6 text-gray-600","aria-hidden":"true"})}),(0,a.jsxs)("div",{className:"min-w-0 flex-auto",children:[(0,a.jsxs)("div",{className:"flex items-center gap-x-2",children:[(0,a.jsx)("p",{className:"text-sm font-semibold leading-6 text-gray-900",children:n}),i&&(0,a.jsx)(g.Z,{className:"h-4 w-4 text-yellow-400","aria-hidden":"true"})]}),(0,a.jsxs)("div",{className:"mt-1 flex items-center gap-x-2 text-xs leading-5 text-gray-500",children:[r,o]}),l&&(0,a.jsx)("p",{className:"mt-1 text-xs text-gray-500 line-clamp-2",children:l})]})]}),(0,a.jsx)("div",{className:"flex items-center gap-x-4",children:(0,a.jsxs)("div",{className:"flex gap-x-2",children:[(0,a.jsxs)("button",{type:"button",onClick:()=>y(t),className:"rounded p-1 hover:bg-gray-100 group relative",children:[(0,a.jsx)(c.Z,{className:"h-5 w-5 ".concat(N(t.status))}),(0,a.jsx)("span",{className:"absolute -top-8 left-1/2 -translate-x-1/2 bg-gray-900 text-white text-xs px-2 py-1 rounded opacity-0 group-hover:opacity-100 whitespace-nowrap transition-opacity",children:t.isVerified?"Verified":"Verify"})]}),(0,a.jsx)("button",{type:"button",onClick:()=>f(t),className:"rounded p-1 hover:bg-gray-100 group relative",children:t.isDefault?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(g.Z,{className:"h-5 w-5 text-yellow-400"}),(0,a.jsx)("span",{className:"absolute -top-8 left-1/2 -translate-x-1/2 bg-gray-900 text-white text-xs px-2 py-1 rounded opacity-0 group-hover:opacity-100 whitespace-nowrap transition-opacity",children:"Default Method"})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(m.Z,{className:"h-5 w-5 text-gray-400"}),(0,a.jsx)("span",{className:"absolute -top-8 left-1/2 -translate-x-1/2 bg-gray-900 text-white text-xs px-2 py-1 rounded opacity-0 group-hover:opacity-100 whitespace-nowrap transition-opacity",children:"Set as Default"})]})}),(0,a.jsxs)("button",{type:"button",onClick:()=>v(t),className:"rounded p-1 hover:bg-gray-100 group relative",children:[(0,a.jsx)(u.Z,{className:"h-5 w-5 text-gray-400"}),(0,a.jsx)("span",{className:"absolute -top-8 left-1/2 -translate-x-1/2 bg-gray-900 text-white text-xs px-2 py-1 rounded opacity-0 group-hover:opacity-100 whitespace-nowrap transition-opacity",children:"Edit"})]}),(0,a.jsxs)("button",{type:"button",onClick:()=>j(t),className:"rounded p-1 hover:bg-gray-100 group relative",children:[(0,a.jsx)(x.Z,{className:"h-5 w-5 text-gray-400"}),(0,a.jsx)("span",{className:"absolute -top-8 left-1/2 -translate-x-1/2 bg-gray-900 text-white text-xs px-2 py-1 rounded opacity-0 group-hover:opacity-100 whitespace-nowrap transition-opacity",children:"Delete"})]})]})})]})},G=e=>{let{methods:t,group:s,hoveredMethod:n,editingMethod:c,onMouseEnter:m,onMouseLeave:u,handleVerify:x,handleSetDefault:g,handleEdit:p,handleDelete:b,getMethodStatusColor:y,handleAddClick:f}=e;if(0===t.length)return s.canCreate?(0,a.jsxs)("div",{className:"text-center py-6",children:[(0,a.jsx)("div",{className:"mx-auto h-12 w-12 text-gray-400",children:"Phone & Text"===s.name?(0,a.jsx)(r.Z,{className:"h-12 w-12"}):(0,a.jsx)(d.Z,{className:"h-12 w-12"})}),(0,a.jsxs)("h3",{className:"mt-2 text-sm font-semibold text-gray-900",children:["No ",s.name.toLowerCase()," methods"]}),(0,a.jsxs)("p",{className:"mt-1 text-sm text-gray-500",children:["Get started by creating a new ",s.name.toLowerCase()," method."]}),(0,a.jsx)("div",{className:"mt-6",children:(0,a.jsxs)("button",{type:"button",onClick:()=>f(s),className:"inline-flex items-center rounded-md bg-indigo-600 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600",children:[(0,a.jsx)(h.Z,{className:"-ml-0.5 mr-1.5 h-5 w-5","aria-hidden":"true"}),"Create ",s.name," Method"]})})]}):null;let v="Phone & Text"===s.name?B(t):t.map(e=>({method:{...e,config:W(e)},phoneNumber:void 0}));return(0,a.jsx)("ul",{role:"list",className:"space-y-4",children:v.map(e=>{let{method:t,phoneNumber:d}=e,h=F[t.type],v=n===t.id,j=(null==c?void 0:c.id)===t.id,N=t.config,w=null;if(d)w=(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(r.Z,{className:"h-3 w-3 flex-shrink-0"}),(0,a.jsx)("span",{className:"truncate",children:d}),(0,a.jsx)(V.Z,{text:d}),(0,a.jsxs)("div",{className:"flex items-center gap-x-2 ml-2",children:[N.textMethodId&&(0,a.jsx)("span",{className:"inline-flex items-center rounded-md bg-green-50 px-1.5 py-0.5 text-xs font-medium text-green-700 ring-1 ring-inset ring-green-600/20",children:"Text"}),N.voiceMethodId&&(0,a.jsx)("span",{className:"inline-flex items-center rounded-md bg-blue-50 px-1.5 py-0.5 text-xs font-medium text-blue-700 ring-1 ring-inset ring-blue-600/20",children:"Voice"})]})]});else if("EMAIL"===t.type)w=(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(i.Z,{className:"h-3 w-3 mr-1 flex-shrink-0"}),(0,a.jsx)("span",{className:"truncate",children:N.email||""}),(0,a.jsx)(V.Z,{text:N.email||""})," "]});else if("DOVEAPP"===t.type&&N.doveNumber)w=(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(l.Z,{className:"h-3 w-3 mr-1 flex-shrink-0"}),(0,a.jsxs)("span",{className:"truncate",children:["Dove #: ",N.doveNumber]}),(0,a.jsx)(V.Z,{text:N.doveNumber})]});else if("PLUGIN"===t.type){var k;let e="string"==typeof N?JSON.parse(N):N;w=(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(o.Z,{className:"h-3 w-3 mr-1 flex-shrink-0"}),(0,a.jsx)("span",{className:"truncate",children:{SLACK:"Slack",TELEGRAM:"Telegram",CUSTOM_WEBHOOK:"Webhook"}[e.type]||"Plugin"}),"SLACK"===e.type&&(0,a.jsx)("span",{className:"ml-2 text-gray-400",children:e.slackWebhookUrl}),"TELEGRAM"===e.type&&(0,a.jsxs)("span",{className:"ml-2 text-gray-400",children:["Chat ID: ",e.telegramChatId]}),"CUSTOM_WEBHOOK"===e.type&&(0,a.jsx)("span",{className:"ml-2 text-gray-400",children:null===(k=e.webhook)||void 0===k?void 0:k.url})]})}return(0,a.jsx)(H,{method:t,icon:h,name:t.name,description:t.description,isDefault:t.isDefault||!1,details:w,isHovered:v,isEditing:j,onMouseEnter:()=>m(t.id),onMouseLeave:u,handleVerify:x,handleSetDefault:g,handleEdit:p,handleDelete:b,getMethodStatusColor:y,handleAddClick:f,group:s},d||t.id)})})};function K(e){let{methods:t,onMethodsChange:s}=e,[l,i]=(0,n.useState)(null),[r,o]=(0,n.useState)(!1),[d,c]=(0,n.useState)(null),[m,u]=(0,n.useState)("EMAIL"),[x,g]=(0,n.useState)(null),[p,b]=(0,n.useState)(null),y=e=>{b(e)},f=async()=>{if(p)try{if("TEXT"===p.type||"VOICE"===p.type){let e=p.config,t=[];e.textMethodId&&t.push(e.textMethodId),e.voiceMethodId&&t.push(e.voiceMethodId),await Promise.all(t.map(e=>D.x.delete(e)))}else await D.x.delete(p.id);s(),b(null)}catch(e){g("Failed to delete delivery method"),console.error(e)}},v=async e=>{try{await D.x.verify(e.id),s()}catch(e){g("Failed to verify delivery method"),console.error(e)}},j=async e=>{try{await D.x.setDefault(e.id),s()}catch(e){g("Failed to set default delivery method"),console.error(e)}},N=async e=>{try{e.id?await D.x.update(e.id,e):await D.x.create(e),s(),c(null),o(!1)}catch(e){g("Failed to save delivery method"),console.error(e)}},w=async e=>{try{await N(e)}catch(e){g("Failed to save delivery method"),console.error(e)}},k=async e=>{try{await D.x.delete(e),s()}catch(e){g("Failed to delete delivery method"),console.error(e)}},C=e=>{switch(e){case"ACTIVE":return"text-green-400";case"INACTIVE":default:return"text-gray-400";case"PENDING":return"text-yellow-400";case"FAILED":return"text-red-400"}},E=e=>{u(e),c(null),o(!0)},T=e=>{u({DOVEAPP:"DOVEAPP",EMAIL:"EMAIL",TEXT:"PHONE",VOICE:"PHONE",WEBHOOK:"PLUGIN",PLUGIN:"PLUGIN"}[e.type]),c(e),o(!0)},O=e=>{E({DoveApp:"DOVEAPP",Email:"EMAIL","Phone & Text":"PHONE",Integrations:"PLUGIN"}[e.name])},I=(e=>{let t=[...e].sort((e,t)=>e.createdAt&&t.createdAt?new Date(e.createdAt).getTime()-new Date(t.createdAt).getTime():e.id.localeCompare(t.id));return Z.map(e=>({...e,methods:t.filter(t=>e.types.includes(t.type))}))})(t);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"divide-y divide-gray-100",children:I.map(e=>(0,a.jsxs)("div",{className:"space-y-4 py-6 px-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-sm font-medium text-gray-900",children:e.name}),(0,a.jsx)("p",{className:"mt-1 text-sm text-gray-500 line-clamp-2",children:e.description})]}),e.canCreate&&(0,a.jsxs)("button",{type:"button",onClick:()=>O(e),className:"inline-flex items-center gap-x-1.5 rounded-md bg-indigo-600 px-2.5 py-1.5 text-sm font-semibold text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600",children:[(0,a.jsx)(h.Z,{className:"-ml-0.5 h-4 w-4","aria-hidden":"true"}),"Create New"]})]}),(0,a.jsx)(G,{methods:e.methods,group:e,hoveredMethod:l,editingMethod:d,onMouseEnter:i,onMouseLeave:()=>i(null),handleVerify:v,handleSetDefault:j,handleEdit:T,handleDelete:y,getMethodStatusColor:C,handleAddClick:O})]},e.name))}),(0,a.jsx)(L,{isOpen:r,onClose:()=>{o(!1),c(null)},onSubmit:w,onDelete:k,editingMethod:d,group:m}),(0,a.jsx)(U.Z,{isOpen:!!p,onClose:()=>b(null),onConfirm:f,title:"Delete Delivery Method",message:"Are you sure you want to delete this delivery method? This action cannot be undone.",confirmText:"Delete"}),x&&(0,a.jsx)("div",{className:"mt-4 text-sm text-red-500",children:x})]})}var R=s(9359),_=s(2888),q=s(7100);function X(){let e=(0,q.useAction)(),[t,s]=(0,n.useState)([]),[l,i]=(0,n.useState)(!0),[r,o]=(0,n.useState)(null),[d,c]=(0,n.useState)(!1),{auth:m,onAuthStateChanged:u}=(0,R.useAuth)();(0,n.useEffect)(()=>{let e=u(m,e=>{e&&x()});return()=>{e()}},[]),(0,n.useEffect)(()=>{"create-delivery-method"===e.pendingAction&&(c(!0),e.clearPendingAction())},[e]);let x=async()=>{try{i(!0);let e=await D.x.getAll();s(e),o(null)}catch(e){o("Failed to load delivery methods"),console.error(e)}finally{i(!1)}};return(0,a.jsx)(_.Z,{children:(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50 py-8",children:[(0,a.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,a.jsxs)("div",{className:"md:flex md:items-center md:justify-between",children:[(0,a.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold leading-7 text-gray-900 sm:truncate sm:text-3xl sm:tracking-tight",children:"Delivery Methods"}),(0,a.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Configure how you want to receive notifications"})]}),(0,a.jsx)("div",{className:"mt-4 flex md:ml-4 md:mt-0",children:(0,a.jsxs)("button",{type:"button",onClick:()=>c(!0),className:"ml-3 inline-flex items-center rounded-md bg-blue-600 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-blue-700 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-blue-600",children:[(0,a.jsx)(h.Z,{className:"-ml-0.5 mr-1.5 h-5 w-5","aria-hidden":"true"}),"Add Method"]})})]}),r&&(0,a.jsx)("div",{className:"mt-4 rounded-md bg-red-50 p-4",children:(0,a.jsx)("div",{className:"flex",children:(0,a.jsx)("div",{className:"ml-3",children:(0,a.jsx)("h3",{className:"text-sm font-medium text-red-800",children:r})})})}),l?(0,a.jsx)("div",{className:"mt-6 text-center",children:(0,a.jsx)("div",{className:"inline-block h-8 w-8 animate-spin rounded-full border-4 border-solid border-current border-r-transparent align-[-0.125em] motion-reduce:animate-[spin_1.5s_linear_infinite]"})}):(0,a.jsx)("div",{className:"mt-6 bg-white shadow rounded-lg",children:t.length>0?(0,a.jsx)(K,{methods:t,onMethodsChange:x}):(0,a.jsx)("div",{className:"text-center py-12",children:(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"No delivery methods found"})})})]}),d&&(0,a.jsx)("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 flex items-center justify-center z-50",children:(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full p-6",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold",children:"Create Delivery Method"}),(0,a.jsx)("button",{onClick:()=>c(!1),className:"text-gray-500 hover:text-gray-700",children:(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,a.jsxs)("form",{onSubmit:e=>{e.preventDefault();let t=new FormData(e.target);t.get("name"),t.get("type"),c(!1),x()},children:[(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),(0,a.jsx)("input",{type:"text",name:"name",id:"name",required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("label",{htmlFor:"type",className:"block text-sm font-medium text-gray-700 mb-1",children:"Type"}),(0,a.jsxs)("select",{name:"type",id:"type",required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500",children:[(0,a.jsx)("option",{value:"email",children:"Email"}),(0,a.jsx)("option",{value:"sms",children:"SMS"}),(0,a.jsx)("option",{value:"push",children:"Push Notification"}),(0,a.jsx)("option",{value:"webhook",children:"Webhook"})]})]}),(0,a.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,a.jsx)("button",{type:"button",onClick:()=>c(!1),className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50",children:"Cancel"}),(0,a.jsx)("button",{type:"submit",className:"px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600",children:"Create"})]})]})]})})]})})}},7490:function(e,t,s){"use strict";s.d(t,{Z:function(){return l}});var a=s(3827),n=s(6170);function l(e){let{isOpen:t,onClose:s,onConfirm:l,title:i,message:r,confirmText:o="Confirm",cancelText:d="Cancel",confirmButtonClassName:c="bg-red-600 text-white hover:bg-red-700 focus-visible:ring-red-500",cancelButtonClassName:m="bg-gray-100 text-gray-900 hover:bg-gray-200 focus-visible:ring-gray-500"}=e;return(0,a.jsxs)(n.V,{open:t,onClose:s,children:[(0,a.jsx)("div",{className:"fixed inset-0 bg-black/30","aria-hidden":"true"}),(0,a.jsx)("div",{className:"fixed inset-0 flex items-center justify-center p-4",children:(0,a.jsxs)(n.V.Panel,{className:"mx-auto max-w-sm rounded-lg bg-white p-6",children:[(0,a.jsx)(n.V.Title,{className:"text-lg font-medium leading-6 text-gray-900",children:i}),(0,a.jsx)("div",{className:"mt-2",children:(0,a.jsx)("p",{className:"text-sm text-gray-500",children:r})}),(0,a.jsxs)("div",{className:"mt-4 flex justify-end space-x-2",children:[(0,a.jsx)("button",{type:"button",className:"inline-flex justify-center rounded-md border border-transparent px-4 py-2 text-sm font-medium focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 ".concat(m),onClick:s,children:d}),(0,a.jsx)("button",{type:"button",className:"inline-flex justify-center rounded-md border border-transparent px-4 py-2 text-sm font-medium focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 ".concat(c),onClick:()=>{l(),s()},children:o})]})]})})]})}},8693:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});var a=s(3827),n=s(6246),l=s(2173),i=s(4090);function r(e){let{text:t,className:s="",size:r="sm"}=e,[o,d]=(0,i.useState)(!1),c={sm:"h-3.5 w-3.5",md:"h-4 w-4"};return(0,a.jsx)("button",{type:"button",onClick:()=>{let e=document.createElement("textarea");e.value=t,document.body.appendChild(e);try{e.select(),document.execCommand("copy"),d(!0),setTimeout(()=>d(!1),1200)}catch(e){console.error("Failed to copy text:",e)}finally{document.body.removeChild(e)}},className:"ml-2 flex-shrink-0 ".concat(s),title:o?"Copied!":"Copy to clipboard",children:o?(0,a.jsx)(l.Z,{className:"".concat(c[r]," text-green-500")}):(0,a.jsx)(n.Z,{className:"".concat(c[r]," text-gray-400 hover:text-gray-600")})})}},1062:function(e,t,s){"use strict";s.d(t,{Z:function(){return o}});var a=s(3827),n=s(4090),l=s(1151),i=s(129),r=s(6576);function o(e){let{value:t,onChange:s,options:o,disabled:d=!1,className:c="",placeholder:m="Select an option",error:u,id:x}=e,h=o.find(e=>e.value===t);return(0,a.jsx)(l.R,{value:t,onChange:s,disabled:d,children:e=>{let{open:t}=e;return(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsxs)(l.R.Button,{id:x,className:"relative w-full cursor-default rounded-md bg-white py-1.5 pl-3 pr-10 text-left text-gray-900 shadow-sm ring-1 ring-inset ".concat(u?"ring-red-500":"ring-gray-300"," focus:outline-none focus:ring-2 focus:ring-indigo-600 sm:text-sm sm:leading-6 ").concat(d?"bg-gray-50":""," ").concat(c),children:[(0,a.jsx)("span",{className:"block truncate",children:h?h.label:m}),(0,a.jsx)("span",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center pr-2",children:(0,a.jsx)(r.Z,{className:"h-5 w-5 text-gray-400","aria-hidden":"true"})})]}),(0,a.jsx)(i.u,{show:t,as:n.Fragment,leave:"transition ease-in duration-100",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,a.jsx)(l.R.Options,{className:"absolute z-10 mt-1 max-h-60 w-full overflow-auto rounded-md bg-white py-1 text-base shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none sm:text-sm",children:o.map(e=>(0,a.jsx)(l.R.Option,{className:e=>{let{active:t}=e;return"relative cursor-default select-none py-2 pl-3 pr-9 ".concat(t?"bg-indigo-600 text-white":"text-gray-900")},value:e.value,children:t=>{let{selected:s,active:n}=t;return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("span",{className:"block truncate ".concat(s?"font-semibold":"font-normal"),children:e.label})})}},e.value))})})]})}})}},4895:function(e,t,s){"use strict";s.d(t,{Wi:function(){return n},yt:function(){return l},ld:function(){return i}});var a=s(3827);function n(e){let{label:t,htmlFor:s,error:n,children:l}=e;return(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:s,className:"block text-sm font-medium leading-6 text-gray-900",children:t}),(0,a.jsx)("div",{className:"mt-2",children:l}),n&&(0,a.jsx)("p",{className:"mt-2 text-sm text-red-500",children:n})]})}function l(e){let{className:t="",error:s,...n}=e;return(0,a.jsx)("input",{...n,className:"block w-full rounded-md border-0 px-3 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ".concat(s?"ring-red-500":"ring-gray-300"," placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6 ").concat(t)})}function i(e){let{className:t="",error:s,...n}=e;return(0,a.jsx)("textarea",{...n,className:"block w-full rounded-md border-0 px-3 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ".concat(s?"ring-red-500":"ring-gray-300"," placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6 ").concat(t)})}}},function(e){e.O(0,[9321,8851,8593,3107,4661,542,9509,9128,142,9359,8269,416,7678,2971,8069,1744],function(){return e(e.s=5515)}),_N_E=e.O()}]);