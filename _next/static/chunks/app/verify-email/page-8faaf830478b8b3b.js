(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6931],{4899:function(e,s,r){Promise.resolve().then(r.bind(r,684))},7907:function(e,s,r){"use strict";var a=r(5313);r.o(a,"useParams")&&r.d(s,{useParams:function(){return a.useParams}}),r.o(a,"usePathname")&&r.d(s,{usePathname:function(){return a.usePathname}}),r.o(a,"useRouter")&&r.d(s,{useRouter:function(){return a.useRouter}}),r.o(a,"useSearchParams")&&r.d(s,{useSearchParams:function(){return a.useSearchParams}})},684:function(e,s,r){"use strict";r.r(s),r.d(s,{default:function(){return u}});var a=r(3827),t=r(4090),n=r(7907),i=r(9359);function u(){let e=(0,n.useRouter)(),s=(0,n.useSearchParams)(),{user:r,refreshUserStatus:u,applyActionCode:l,auth:d}=(0,i.useAuth)(),[c,m]=(0,t.useState)(null),[o,h]=(0,t.useState)(!0),f=(0,t.useRef)(!1);return((0,t.useEffect)(()=>{(async()=>{if(f.current)return;f.current=!0;let r=null==s?void 0:s.get("oobCode");if(!r){m("Invalid verification link. Please request a new verification email."),h(!1);return}try{await l(r)}catch(e){console.error("Error applying action code:",e)}if(d.currentUser&&(await d.currentUser.reload(),d.currentUser.emailVerified)){await u(),e.push("/auth/validate-email");return}m("Failed to verify your email. The link may have expired or already been used. Please request a new verification email."),h(!1)})()},[e,s,u]),c)?(0,a.jsx)("div",{className:"min-h-screen bg-gray-100 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:(0,a.jsx)("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:(0,a.jsxs)("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:[(0,a.jsx)("div",{className:"rounded-md bg-red-50 p-4 mb-6",children:(0,a.jsx)("div",{className:"flex",children:(0,a.jsx)("div",{className:"ml-3",children:(0,a.jsx)("h3",{className:"text-sm font-medium text-red-800",children:c})})})}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("button",{onClick:()=>e.push("/auth/validate-email?action=resend"),className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700",children:"Request New Verification Email"}),(0,a.jsx)("button",{onClick:()=>e.push("/signin"),className:"w-full flex justify-center py-2 px-4 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50",children:"Back to Sign In"})]})]})})}):(0,a.jsx)("div",{className:"min-h-screen bg-gray-100 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:(0,a.jsx)("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:(0,a.jsxs)("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:[(0,a.jsx)("div",{className:"flex justify-center",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600"})}),(0,a.jsx)("p",{className:"mt-4 text-center text-sm text-gray-600",children:"Verifying your email..."})]})})})}}},function(e){e.O(0,[9321,8593,9359,2971,8069,1744],function(){return e(e.s=4899)}),_N_E=e.O()}]);